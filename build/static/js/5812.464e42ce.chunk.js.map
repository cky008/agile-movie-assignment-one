{"version":3,"file":"static/js/5812.464e42ce.chunk.js","mappings":"kKAIMA,GAAeC,EAAAA,EAAAA,OAAK,kBAAM,8FAAN,IACpBC,GAAUD,EAAAA,EAAAA,OAAK,kBAAM,uDAAN,IACfE,GAAqBF,EAAAA,EAAAA,OAAK,kBAAM,wEAAN,IA2C9B,UAxCe,SAACG,GAEhB,IAAQC,GAAeC,EAAAA,EAAAA,MAAfD,WAER,GAA4CE,EAAAA,EAAAA,UAC1C,CAAC,WAAYF,GACbG,EAAAA,IAFMC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,QAKhC,GAAID,EACF,OAAU,SAAC,EAAAE,SAAD,CAAUC,UAAU,+CAApB,UAAkD,SAACZ,EAAD,MAG9D,GAAIU,EACF,OAAO,wBAAKF,EAAMK,UAEpB,IAAMC,EAASP,EAAKQ,QAGZC,EAAYF,EAAOG,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAN,IAIjC,OAHAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAI/C,SAAC,EAAAL,SAAD,CAAUC,UAAU,iDAApB,UAEI,SAACd,EAAD,CACA0B,MAAM,kBACNV,OAAQA,EACRW,OAAQ,SAACC,GACP,OAAO,SAACzB,EAAD,CAAoByB,MAAOA,GACnC,EACDC,KAAK,GACLxB,WAAYA,EACZyB,YAAarB,EAAKqB,eAKzB,C","sources":["pages/homePage.js"],"sourcesContent":["import React, { lazy, Suspense } from \"react\";\nimport { getMovies } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport { useParams } from \"react-router-dom\";\nconst PageTemplate = lazy(() => import(\"../components/templateMovieListPage\"));\nconst Spinner = lazy(() => import(\"../components/spinner\"));\nconst AddToFavoritesIcon = lazy(() => import(\"../components/cardIcons/addToFavorites\"));\n\n\nconst HomePage = (props) => {\n\n  const { pagination } = useParams();\n\n  const { data, error, isLoading, isError } = useQuery(\n    [\"discover\", pagination],\n    getMovies\n  );\n\n  if (isLoading) {\n    return    <Suspense fallback={<h1>Loading Componment</h1>}>{<Spinner />}</Suspense>;\n  }\n\n  if (isError) {\n    return <h1>{error.message}</h1>\n  }  \n  const movies = data.results;\n\n    // Redundant, but necessary to avoid app crashing.\n    const favorites = movies.filter(m => m.favorite)\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n    // const addToFavorites = (movieId) => true \n  \n    return (\n      <Suspense fallback={<h1>Loading PageTemplate</h1>}>\n        {\n          <PageTemplate\n          title=\"Discover Movies\"\n          movies={movies}\n          action={(movie) => {\n            return <AddToFavoritesIcon movie={movie} />\n          }}\n          page=\"\"\n          pagination={pagination}\n          total_pages={data.total_pages}\n        />\n        }\n      </Suspense>\n  );\n  };\n  export default HomePage;"],"names":["PageTemplate","lazy","Spinner","AddToFavoritesIcon","props","pagination","useParams","useQuery","getMovies","data","error","isLoading","isError","Suspense","fallback","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","title","action","movie","page","total_pages"],"sourceRoot":""}