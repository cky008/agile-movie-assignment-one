"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[6734],{6734:function(e,n,r){r.r(n);var t=r(885),a=r(2791),i=r(7205),o=r(5017),l=r(9407),s=r(4565),u=r(6015),c=r(9195),d=r(1413),v=r(1647),h=r(1508),m=r(7689),x=r(184),g=[{value:5,label:"Excellent"},{value:4,label:"Good"},{value:3,label:"Average"},{value:2,label:"Poor"},{value:0,label:"Terrible"}],f={root:{marginTop:2,display:"flex",flexDirection:"column",alignItems:"left"},form:{width:"100%","& > * ":{marginTop:2}},textField:{width:"40ch"},submit:{marginRight:2},snack:{width:"50%","& > * ":{width:"100%"}}};n.default=function(e){var n=e.movie,r=(0,a.useContext)(d.m),b=(0,a.useState)(3),p=(0,t.Z)(b,2),w=p[0],j=p[1],Z=(0,a.useState)(!1),C=(0,t.Z)(Z,2),y=C[0],k=C[1],R=(0,m.s0)(),S=function(e){k(!1),R("/movies/favorites/page1")},q=(0,c.cI)({author:"",review:"",agree:!1,rating:"3"}),T=q.control,I=q.formState.errors,Q=q.handleSubmit,V=q.reset,A=function(e){j(e.target.value)};return(0,x.jsxs)(u.Z,{component:"div",sx:f.root,children:[(0,x.jsx)(s.Z,{component:"h2",variant:"h3",children:"Write a review"}),(0,x.jsx)(v.Z,{sx:f.snack,anchorOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:S,children:(0,x.jsx)(h.Z,{severity:"success",variant:"filled",onClose:S,children:(0,x.jsx)(s.Z,{variant:"h4",children:"Thank you for submitting a review"})})}),(0,x.jsxs)("form",{sx:f.form,onSubmit:Q((function(e){e.movieId=n.id,e.rating=w,r.addReview(n,e),k(!0)})),noValidate:!0,children:[(0,x.jsx)(c.Qr,{name:"author",control:T,rules:{required:"Name is required"},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,x.jsx)(o.Z,{sx:{width:"40ch"},variant:"outlined",margin:"normal",required:!0,onChange:r,value:t,id:"author",label:"Author's name",name:"author",autoFocus:!0})}}),I.author&&(0,x.jsx)(s.Z,{variant:"h6",component:"p",children:I.author.message}),(0,x.jsx)(c.Qr,{name:"review",control:T,rules:{required:"Review cannot be empty.",minLength:{value:10,message:"Review is too short"}},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,x.jsx)(o.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"review",value:t,onChange:r,label:"Review text",id:"review",multiline:!0,minRows:10})}}),I.review&&(0,x.jsx)(s.Z,{variant:"h6",component:"p",children:I.review.message}),(0,x.jsx)(c.Qr,{control:T,name:"rating",render:function(e){var n=e.field;n.onChange,n.value;return(0,x.jsx)(o.Z,{id:"select-rating",select:!0,variant:"outlined",label:"Rating Select",value:w,onChange:A,helperText:"Don't forget your rating",children:g.map((function(e){return(0,x.jsx)(l.Z,{value:e.value,children:e.label},e.value)}))})}}),(0,x.jsxs)(u.Z,{sx:f.buttons,children:[(0,x.jsx)(i.Z,{type:"submit",variant:"contained",color:"primary",sx:f.submit,children:"Submit"}),(0,x.jsx)(i.Z,{type:"reset",variant:"contained",color:"secondary",sx:f.submit,onClick:function(){V({author:"",content:""})},children:"Reset"})]})]})]})}}}]);
//# sourceMappingURL=6734.daa7a066.chunk.js.map