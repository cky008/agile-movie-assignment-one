{"version":3,"file":"static/js/7367.7af8f02c.chunk.js","mappings":"kKAIMA,GAAeC,EAAAA,EAAAA,OAAK,kBAAM,8FAAN,IACpBC,GAAUD,EAAAA,EAAAA,OAAK,kBAAM,uDAAN,IACfE,GAAqBF,EAAAA,EAAAA,OAAK,kBAAM,wEAAN,IAwChC,UArCqB,SAACG,GAEpB,IAAQC,GAAeC,EAAAA,EAAAA,MAAfD,WAER,GAA8CE,EAAAA,EAAAA,UAAS,CAAC,mBAAoBF,GAAaG,EAAAA,IAAhFC,EAAT,EAASA,KAAMC,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,UAAWC,EAAjC,EAAiCA,QAEjC,GAAID,EACF,OAAU,SAAC,EAAAE,SAAD,CAAUC,UAAU,+CAApB,UAAkD,SAACZ,EAAD,MAG9D,GAAIU,EACF,OAAO,wBAAKF,EAAMK,UAEpB,IAAMC,EAASP,EAAKQ,QAEdC,EAAYF,EAAOG,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAN,IAGjC,OAFAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAG/C,SAAC,EAAAL,SAAD,CAAUC,UAAU,iDAApB,UAEI,SAACd,EAAD,CACF0B,MAAM,mBACNV,OAAQA,EACRW,OAAQ,SAACC,GACP,OAAO,SAACzB,EAAD,CAAoByB,MAAOA,GACnC,EACDC,KAAK,mBACLxB,WAAYA,EACZyB,YAAarB,EAAKqB,eAMvB,C","sources":["pages/topRatedPage.js"],"sourcesContent":["import React, { lazy, Suspense } from \"react\";\nimport { getTopRatedMovies } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport { useParams } from \"react-router-dom\";\nconst PageTemplate = lazy(() => import(\"../components/templateMovieListPage\"));\nconst Spinner = lazy(() => import(\"../components/spinner\"));\nconst AddToFavoritesIcon = lazy(() => import(\"../components/cardIcons/addToFavorites\"));\n\n\nconst TopRatedPage = (props) => {\n\n  const { pagination } = useParams();\n\n  const {  data, error, isLoading, isError }  = useQuery([\"discoverTopRated\", pagination], getTopRatedMovies)\n\n  if (isLoading) {\n    return    <Suspense fallback={<h1>Loading Componment</h1>}>{<Spinner />}</Suspense>;\n  }\n\n  if (isError) {\n    return <h1>{error.message}</h1>\n  }  \n  const movies = data.results;\n\n  const favorites = movies.filter(m => m.favorite)\n  localStorage.setItem('favorites', JSON.stringify(favorites))\n\n  return (\n    <Suspense fallback={<h1>Loading PageTemplate</h1>}>\n      {\n        <PageTemplate\n      title='Top Rated Movies'\n      movies={movies}\n      action={(movie) => {\n        return <AddToFavoritesIcon movie={movie} />\n      }}\n      page=\"/movies/toprated\"\n      pagination={pagination}\n      total_pages={data.total_pages}\n    />\n      }\n    </Suspense>\n    \n  );\n};\n\nexport default TopRatedPage;"],"names":["PageTemplate","lazy","Spinner","AddToFavoritesIcon","props","pagination","useParams","useQuery","getTopRatedMovies","data","error","isLoading","isError","Suspense","fallback","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","title","action","movie","page","total_pages"],"sourceRoot":""}